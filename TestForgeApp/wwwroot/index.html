<!DOCTYPE html>
<html>

<head>
    <title>View Models - Autodesk Forge</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="https://github.com/Autodesk-Forge/learn.forge.viewmodels/raw/master/img/favicon.ico">
    <!-- Common packages: jQuery, Bootstrap, jsTree -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jstree/3.3.7/jstree.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jstree/3.3.7/themes/default/style.min.css" />
    <!-- The Viewer CSS -->
    <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" type="text/css">

    <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/three.min.js"></script>
    <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>

    <script src="lib/lodash.js/lodash.js"></script>
    <script src="markupExt.js"></script>

    <!-- this project files -->
    <link href="css/main.css" rel="stylesheet" />
    <script src="js/ForgeThree.js"></script>
    <script src="js/ForgeViewer.js"></script>
    <script src="js/SearchProps.js"></script>
    <script src="js/SlideResizer.js"></script>
    <script src="js/ExcelTable.js"></script>

    <!-- Styling for 3D Labels -->
    <style>
        .label:hover {
            font-size: 14px;
            z-index: 2;
            width: 36px;
            opacity: 0.8;
            background-color: grey;
            border: 3px solid white
        }

        .label:focus {
            font-size: 16px;
            z-index: 2;
            width: 36px;
            opacity: 1;
            background-color: brown;
            border: 4px solid white;
            outline: none;
        }

        .label {
            width: 150px;
            font-size: 12px;
            overflow: hidden;
            border: 1px solid white;
            border-radius: 10px;
            background: black;
            color: white;
            padding: 0 8px 0 8px;
            opacity: 0.6;
        }
    </style>


</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <ul class="nav navbar-nav left">
                <li style="display: flex; flex-direction:row">
                    <a href="https://www.zaunergroup.com/en/" target="_blank">
                        <img alt="Zauner logo" src="./assets/ZaunerLogo.PNG" height="40" width="150">
                    </a>
                    <h3>ZG Management</h3>
                </li>

            </ul>
            <div class="input-group" style="position: absolute; right: 10px; top: 15px; display: flex; flex-direction: row; gap: 5px;">
                <div class="form-outline">
                    <input type="search" id="searchCategoryInput" placeholder="Category" class="form-control" />
                </div>
                <div class="form-outline">
                    <input type="search" id="searchInput" placeholder="Search properties values" class="form-control" />
                </div>
                <button type="button" id="searchProperties" class="btn btn-primary">
                    Search
                </button>
                <!--<button type="button" id="excelData" class="btn btn-secondary">Load data</button>-->
            </div>
        </div>
    </nav>
    <!-- End of navbar -->
    <div class="container">
        <aside style="padding-top: 1rem; width: 25%;">
            <span id="userInfo"></span>
            <span id="refreshHubs" class="glyphicon glyphicon-refresh" style="cursor: pointer; display: none" title="Refresh list of files"></span>
            <span id="signOut" class="glyphicon glyphicon-log-out" style="margin-top:5px;cursor: pointer; float: right; display: none" title="Sign out"> </span>
            <button class="btn btn-xs btn-info" style="float: right" id="showFormCreateBucket" data-toggle="modal" data-target="#createBucketModal">
                <span class="glyphicon glyphicon-folder-close"></span> New bucket
            </button>

            <div id="appBuckets">
                tree here
            </div>
            <hr />
            <div id="linesFromDb">
            </div>
            <hr />
            <div id="dashboard">
                <h5 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Dashboard</h5>
            </div>
            <!--<div id="userHubs">
                <div style="padding-top: 100px; text-align: center;">
                    <button class="btn btn-lg btn-default" id="autodeskSigninButton">
                        <img src="https://github.com/Autodesk-Forge/learn.forge.viewhubmodels/raw/master/img/autodesk_text.png"
                             height="20"> Sign in
                    </button>
                    <br />
                    <br />
                    <br /> You may also need to provision your<br /> BIM 360 Docs account for this app.<br />
                    <a href="https://forge.autodesk.com/blog/bim-360-docs-provisioning-forge-apps">Learn more</a>.
                </div>
            </div>-->

        </aside>
        <div class="resize-handle--x" data-target="aside"></div>
        <div style="position: relative; width: 85%;">
            <div id="forgeViewer"></div>

        </div>

    </div>
    <form id="uploadFile" enctype="multipart/form-data">
        <input id="hiddenUploadField" type="file" name="theFile" style="visibility:hidden" />
    </form>
    <!-- Modal Create Bucket -->
    <div class="modal fade" id="createBucketModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Cancel">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Create new bucket</h4>
                </div>
                <div class="modal-body">
                    <input type="text" id="newBucketKey" class="form-control"> For demonstration purposes, objects (files)
                    are NOT automatically translated. After you upload, right click on
                    the object and select "Translate". Note: Technically your bucket name is required to be globally unique across
                    the entire platform - to keep things simple with this tutorial your client ID will be prepended by default to
                    your bucket name and in turn masked by the UI so you only have to make sure your bucket name is unique within
                    your current Forge app.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="createNewBucket">Go ahead, create the bucket</button>
                </div>
            </div>
        </div>
    </div>



    <!--<script src="https://petrbroz.github.io/forge-viewer-utils/master/Utilities.js"></script>-->
    <!--<script src="http://cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/CustomPropertiesExtension/contents/main.js"></script>-->
    <!--Extensions-->
    <script src="js/extensions/ToolbarExtension.js"></script>
    <script src="js/extensions/labelsExtension.js"></script>



    <!--<script src="js/extensions/ForgeIssuesExtension.js"></script>

    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
    </script>-->


</body>
<iframe id="hiddenFrame" style="visibility: hidden; display: none" />
</html>
